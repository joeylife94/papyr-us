# Papyr.us vs Notion: 기능 비교 분석 및 개선 로드맵

> **최종 업데이트**: 2026년 2월 7일  
> **목표**: Papyr.us를 노션급 협업 플랫폼으로 발전시키기 위한 현황 분석 및 개선 계획

---

## 📊 현재 프로젝트 현황 (정확한 분석 기준)

### 코드 규모
| 항목 | 수치 |
|------|------|
| 전체 TypeScript 코드 | ~33,000줄 |
| 클라이언트 (React) | ~21,600줄 |
| 서버 (Express) | ~9,200줄 |
| 공유 스키마/타입 | ~930줄 |
| React 컴포넌트 | 94개 |
| API 엔드포인트 | 135개 |
| 데이터베이스 테이블 | 19개+ |
| 블록 타입 | 24종 |
| 테스트 파일 | 29개 |
| 라우트/페이지 | 28개 |

---

## 🔍 Notion과의 상세 기능 비교

### 1. 📝 에디터 & 블록 시스템

| 기능 | Notion | Papyr.us | 상태 | 우선순위 |
|------|--------|----------|------|----------|
| 기본 텍스트 블록 (단락, 제목 H1-H3) | ✅ | ✅ | 완료 | - |
| 체크박스/할 일 목록 | ✅ | ✅ | 완료 | - |
| 코드 블록 (구문 강조) | ✅ | ✅ | 완료 | - |
| 인용문 블록 | ✅ | ✅ | 완료 | - |
| 이미지 블록 (업로드) | ✅ | ✅ | 완료 | - |
| 테이블 블록 | ✅ | ✅ | 완료 | - |
| 글머리/번호 목록 | ✅ | ✅ (스키마만) | ⚠️ UI 미완 | 🔴 높음 |
| 토글 블록 | ✅ | ✅ (스키마만) | ⚠️ UI 미완 | 🔴 높음 |
| 콜아웃 블록 | ✅ | ✅ | 완료 | - |
| 임베드 블록 (YouTube, Figma 등) | ✅ | ✅ | 완료 | - |
| 수식 블록 (LaTeX) | ✅ | ✅ | 완료 | - |
| 동기화 블록 | ✅ | ✅ | 완료 | - |
| **슬래시 명령어 (/)** | ✅ | ❌ | 미구현 | 🔴 높음 |
| **인라인 서식** (볼드, 이탤릭, 밑줄, 취소선, 코드) | ✅ | ❌ | 미구현 | 🔴 높음 |
| **드래그 앤 드롭 블록 재정렬** | ✅ | ⚠️ 기본만 | 개선 필요 | 🟡 중간 |
| **블록 색상/배경색** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **블록 들여쓰기 (중첩)** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **@멘션 (페이지/사용자/날짜)** | ✅ | ⚠️ 스키마만 | 미구현 | 🟡 중간 |
| **링크 프리뷰** | ✅ | ❌ | 미구현 | 🟢 낮음 |
| **구분선 블록** | ✅ | ❌ | 미구현 | 🟢 낮음 |
| **북마크 블록** | ✅ | ❌ | 미구현 | 🟢 낮음 |
| **파일 첨부 블록** | ✅ | ❌ | 미구현 | 🟢 낮음 |
| **목차 블록 (자동 생성)** | ✅ | ⚠️ 사이드바만 | 블록으로 미구현 | 🟢 낮음 |

### 2. 📄 페이지 & 문서 관리

| 기능 | Notion | Papyr.us | 상태 | 우선순위 |
|------|--------|----------|------|----------|
| 페이지 생성/수정/삭제 | ✅ | ✅ | 완료 | - |
| 마크다운 지원 | ✅ | ✅ | 완료 | - |
| 폴더/디렉토리 구조 | ✅ | ✅ | 완료 | - |
| 태그 시스템 | ✅ | ✅ | 완료 | - |
| SEO-friendly 슬러그 URL | ✅ | ✅ | 완료 | - |
| 전문 검색 (FTS) | ✅ | ✅ (PostgreSQL FTS) | 완료 | - |
| 페이지 권한/공유 | ✅ | ✅ | 완료 | - |
| 공유 링크 (만료/비밀번호) | ✅ | ✅ | 완료 | - |
| **페이지 히스토리/버전 관리** | ✅ | ❌ | 미구현 | 🔴 높음 |
| **페이지 복원 (undo)** | ✅ | ❌ | 미구현 | 🔴 높음 |
| **하위 페이지 (nested pages)** | ✅ | ❌ | 미구현 | 🔴 높음 |
| **페이지 이동 (drag to folder)** | ✅ | ⚠️ API만 | UI 미완 | 🟡 중간 |
| **페이지 즐겨찾기** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **최근 본 페이지** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **휴지통 (30일 보관)** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **페이지 커버 이미지** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **페이지 아이콘 (이모지)** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **페이지 템플릿 (원클릭 적용)** | ✅ | ⚠️ 기본적 | 개선 필요 | 🟡 중간 |
| **가져오기/내보내기** (Markdown, HTML, PDF) | ✅ | ❌ | 미구현 | 🟡 중간 |
| **페이지 잠금** | ✅ | ❌ | 미구현 | 🟢 낮음 |

### 3. 🗄️ 데이터베이스 시스템

| 기능 | Notion | Papyr.us | 상태 | 우선순위 |
|------|--------|----------|------|----------|
| 데이터베이스 스키마 생성 | ✅ | ✅ | 완료 | - |
| 테이블 뷰 | ✅ | ✅ | 완료 | - |
| 칸반 뷰 | ✅ | ✅ | 완료 | - |
| 갤러리 뷰 | ✅ | ✅ | 완료 | - |
| 캘린더 뷰 | ✅ | ✅ | 완료 | - |
| 필터/정렬 | ✅ | ✅ | 완료 | - |
| 저장된 뷰 (Saved Views) | ✅ | ✅ | 완료 | - |
| 관계형 필드 (Relation) | ✅ | ✅ | 완료 | - |
| 롤업 필드 (Rollup) | ✅ | ✅ | 완료 | - |
| 수식 필드 (Formula) | ✅ | ✅ | 완료 | - |
| **리스트 뷰** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **타임라인 뷰** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **차트 뷰** | ✅ (limited) | ⚠️ tasks만 | 확장 필요 | 🟡 중간 |
| **인라인 데이터베이스** (페이지 안에 삽입) | ✅ | ⚠️ 스키마만 | UI 미완 | 🟡 중간 |
| **링크드 데이터베이스** (다른 DB 참조) | ✅ | ❌ | 미구현 | 🟢 낮음 |
| **데이터베이스 템플릿** | ✅ | ❌ | 미구현 | 🟢 낮음 |
| **셀 내 리치 텍스트** | ✅ | ❌ | 미구현 | 🟢 낮음 |

### 4. 👥 실시간 협업

| 기능 | Notion | Papyr.us | 상태 | 우선순위 |
|------|--------|----------|------|----------|
| 동시 편집 (충돌 해결) | ✅ | ✅ (Yjs CRDT) | 완료 | - |
| 실시간 커서 표시 | ✅ | ✅ | 완료 | - |
| 사용자 프레전스 (온라인 표시) | ✅ | ✅ | 완료 | - |
| 타이핑 인디케이터 | ❌ | ✅ | Papyr.us 우위 | - |
| 연결 상태 UI | ❌ (silent) | ✅ | Papyr.us 우위 | - |
| **코멘트 (인라인/블록)** | ✅ | ⚠️ 페이지 단위만 | 인라인 미구현 | 🔴 높음 |
| **리졸브된 코멘트** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **@멘션 알림** | ✅ | ⚠️ 기본적 | 개선 필요 | 🟡 중간 |
| **페이지 활동 로그** | ✅ | ❌ | 미구현 | 🟡 중간 |

### 5. 🤖 AI 기능

| 기능 | Notion AI | Papyr.us AI | 상태 | 우선순위 |
|------|-----------|-------------|------|----------|
| 콘텐츠 생성 | ✅ | ✅ (GPT-4o) | 완료 | - |
| 요약 | ✅ | ✅ | 완료 | - |
| 번역 | ✅ | ✅ | 완료 | - |
| 문법 교정 | ✅ | ✅ | 완료 | - |
| 길게/짧게 작성 | ✅ | ✅ | 완료 | - |
| 스마트 검색 | ✅ | ✅ (RAG) | 완료 | - |
| 태스크 추출 | ❌ | ✅ | Papyr.us 우위 | - |
| 관련 페이지 추천 | ❌ | ✅ | Papyr.us 우위 | - |
| 지식 그래프 | ❌ | ✅ | Papyr.us 우위 | - |
| AI Copilot (채팅) | ✅ | ✅ | 완료 | - |
| **인라인 AI** (블록 내 즉시 실행) | ✅ | ❌ | 미구현 | 🔴 높음 |
| **AI 자동완성** (타이핑 시) | ✅ | ⚠️ 백엔드만 | UI 미완 | 🟡 중간 |
| **AI 이미지 생성** | ✅ | ❌ | 미구현 | 🟢 낮음 |

### 6. 🏢 팀 & 워크스페이스

| 기능 | Notion | Papyr.us | 상태 | 우선순위 |
|------|--------|----------|------|----------|
| 팀 워크스페이스 | ✅ | ✅ | 완료 | - |
| 팀별 데이터 격리 | ✅ | ✅ | 완료 | - |
| 멤버 관리 | ✅ | ✅ | 완료 | - |
| 역할 기반 권한 (RBAC) | ✅ | ✅ | 완료 | - |
| 관리자 패널 | ✅ | ✅ | 완료 | - |
| **멤버 초대 (이메일)** | ✅ | ❌ | 미구현 | 🔴 높음 |
| **게스트 액세스** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **팀 설정 페이지** | ✅ | ⚠️ 기본적 | 개선 필요 | 🟡 중간 |
| **감사 로그 (Audit Log)** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **워크스페이스 전환** | ✅ | ❌ | 미구현 | 🟡 중간 |

### 7. 🔔 알림 & 자동화

| 기능 | Notion | Papyr.us | 상태 | 우선순위 |
|------|--------|----------|------|----------|
| 실시간 알림 | ✅ | ✅ (Socket.IO) | 완료 | - |
| 워크플로우 자동화 | ❌ | ✅ (trigger → action) | Papyr.us 우위 | - |
| Webhook 지원 | ❌ | ✅ | Papyr.us 우위 | - |
| **워크플로우 UI 생성** | - | ⚠️ "Coming soon" | 미완성 | 🔴 높음 |
| **이메일 알림** | ✅ | ❌ (stub) | 미구현 | 🟡 중간 |
| **Slack/Discord 연동** | ✅ (API) | ❌ | 미구현 | 🟡 중간 |
| **알림 설정 (구독)** | ✅ | ❌ | 미구현 | 🟢 낮음 |

### 8. 🎨 UI/UX

| 기능 | Notion | Papyr.us | 상태 | 우선순위 |
|------|--------|----------|------|----------|
| 다크/라이트 모드 | ✅ | ✅ | 완료 | - |
| 반응형 디자인 | ✅ | ✅ | 완료 | - |
| 사이드바 네비게이션 | ✅ | ✅ | 완료 | - |
| 키보드 단축키 | ✅ | ⚠️ 문서만 | 미구현 | 🔴 높음 |
| **Command Palette (Cmd+K)** | ✅ | ❌ | 미구현 | 🔴 높음 |
| **브레드크럼 네비게이션** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **사이드바 크기 조절** | ✅ | ❌ | 미구현 | 🟡 중간 |
| **커스텀 이모지/아이콘** | ✅ | ⚠️ 팀만 | 확장 필요 | 🟢 낮음 |
| **다국어 지원** | ✅ | ⚠️ 한국어/영어 혼재 | 정리 필요 | 🟡 중간 |

---

## 🔴 발견된 기술적 문제 (소스코드 분석 결과)

### Critical (즉시 수정 필요)

1. **라우터 라이브러리 불일치**
   - `home.tsx`와 `page-editor.tsx`가 `wouter`를 사용하지만, 앱 전체는 `react-router-dom` 사용
   - React Router의 히스토리와 동기화되지 않아 뒤로가기/앞으로가기가 깨짐
   - **수정**: wouter 사용 부분을 react-router-dom으로 통일

2. **중복 커서 컴포넌트 (3개)**
   - `components/collaboration/UserCursors.tsx` (Socket.IO용)
   - `components/collaboration/YjsUserCursors.tsx` (Yjs용)
   - `components/editor/CollaborationCursors.tsx` (Framer Motion 기반)
   - **수정**: 하나의 통합 커서 컴포넌트로 리팩토링

3. **Storage 싱글턴 불일치**
   - `workflow.ts`가 자체 `DBStorage` 인스턴스를 생성 (별도 DB 풀)
   - `routes.ts`에서 전달받는 storage 인스턴스와 다름
   - **수정**: workflow에도 동일한 storage 인스턴스 주입

4. **멤버 라우트 중복 등록**
   - 일부 멤버 API가 조건부/무조건부로 2번 등록됨
   - **수정**: 라우트 등록 로직 정리

### Major (조기 수정 권장)

5. **대시보드 하드코딩된 팀 ID**
   - `dashboard.tsx`에서 `team1`, `team2`로 하드코딩
   - 동적 팀 지원 불가

6. **댓글 시스템이 인증과 분리**
   - 댓글 작성 시 "Anonymous User" 하드코딩
   - JWT 인증 사용자와 연결되지 않음

7. **Automation 페이지 미완성**
   - "Create Workflow" 버튼이 "coming soon" toast만 표시
   - 워크플로우 생성 UI가 없음

8. **OAuth (Google/GitHub) 코드는 있지만 비활성화**
   - `passport.ts` 전체가 주석 처리됨
   - `routes.ts`의 소셜 로그인 라우트도 주석 처리

9. **TanStack Query `staleTime: Infinity`**
   - 데이터가 자동으로 갱신되지 않음
   - 모든 곳에서 수동 invalidation 필요

10. **공유 링크 라우트 누락**
    - `/shared/:token` 경로가 share 다이얼로그에서 참조되지만 App.tsx에 라우트 없음

---

## ✅ Papyr.us의 Notion 대비 장점

노션에 **없거나 부족한** 기능 중 Papyr.us가 가진 것:

1. **🔧 워크플로우 자동화 엔진** — 트리거 → 조건 → 액션 파이프라인 (노션에는 없음)
2. **🌐 지식 그래프 시각화** — 페이지 간 관계를 force-directed graph로 시각화
3. **🤖 AI 태스크 추출** — 회의록에서 자동으로 할 일 추출
4. **📊 태스크 차트 분석** — 상태 파이차트, 우선순위 분포, 타임라인 차트
5. **💬 타이핑 인디케이터** — 실시간으로 누가 타이핑 중인지 표시
6. **🔌 Webhook 지원** — 외부 서비스와의 연동 (자동화)
7. **🔒 연결 상태 UI** — Socket.IO 연결 상태를 사용자에게 실시간 표시
8. **📈 팀 기여도 통계** — 멤버별 페이지 생성, 댓글, 태스크 완료 추적
9. **🎯 AI 관련 페이지 추천** — GPT-4o 기반 시맨틱 유사도 분석

---

## 🚀 노션급 달성을 위한 우선순위 개선 로드맵

### Phase 1: 핵심 에디터 경험 (Critical — 2~3주)

노션의 가장 핵심적인 차별점은 **에디터 경험**입니다.

| # | 작업 | 예상 시간 | 영향도 |
|---|------|-----------|--------|
| 1 | **슬래시 명령어 (/) 구현** — 블록 타입 선택 메뉴 | 3일 | ⭐⭐⭐⭐⭐ |
| 2 | **인라인 서식** — 텍스트 선택 시 플로팅 툴바 (B/I/U/S/Code/Link/Color) | 5일 | ⭐⭐⭐⭐⭐ |
| 3 | **라우터 통일** — wouter → react-router-dom 마이그레이션 | 1일 | ⭐⭐⭐⭐ |
| 4 | **키보드 단축키** — 실제 구현 (Cmd+B, Cmd+I, Enter로 새 블록 등) | 2일 | ⭐⭐⭐⭐ |
| 5 | **블록 들여쓰기** — Tab/Shift+Tab으로 중첩 | 2일 | ⭐⭐⭐⭐ |
| 6 | **글머리/번호 목록 UI** — 이미 스키마에 있으나 렌더러 미구현 | 1일 | ⭐⭐⭐⭐ |
| 7 | **토글 블록 UI** — 접기/펼치기 렌더러 | 1일 | ⭐⭐⭐ |

### Phase 2: 페이지 관리 고도화 (High — 2~3주)

| # | 작업 | 예상 시간 | 영향도 |
|---|------|-----------|--------|
| 8 | **페이지 히스토리** — 수정 이력 저장 및 특정 버전 복원 | 5일 | ⭐⭐⭐⭐⭐ |
| 9 | **하위 페이지 (nested pages)** — 페이지 안에 페이지 생성 | 4일 | ⭐⭐⭐⭐⭐ |
| 10 | **Command Palette (Cmd+K)** — 전역 빠른 검색/명령 | 3일 | ⭐⭐⭐⭐⭐ |
| 11 | **페이지 아이콘 & 커버 이미지** | 2일 | ⭐⭐⭐⭐ |
| 12 | **즐겨찾기 & 최근 페이지** | 2일 | ⭐⭐⭐⭐ |
| 13 | **휴지통 (소프트 삭제)** — 30일 보관 후 영구 삭제 | 2일 | ⭐⭐⭐ |
| 14 | **브레드크럼 네비게이션** | 1일 | ⭐⭐⭐ |
| 15 | **가져오기/내보내기** — Markdown, HTML, PDF | 3일 | ⭐⭐⭐ |

### Phase 3: 협업 강화 (Medium — 2주)

| # | 작업 | 예상 시간 | 영향도 |
|---|------|-----------|--------|
| 16 | **인라인 코멘트** — 텍스트 선택 후 코멘트 추가 | 4일 | ⭐⭐⭐⭐⭐ |
| 17 | **멤버 초대 (이메일)** — 팀에 이메일로 초대 | 3일 | ⭐⭐⭐⭐ |
| 18 | **페이지 활동 로그** — 누가 언제 무엇을 변경했는지 | 3일 | ⭐⭐⭐⭐ |
| 19 | **OAuth 활성화** — Google/GitHub 소셜 로그인 (코드 있음) | 2일 | ⭐⭐⭐ |
| 20 | **워크플로우 생성 UI** — 시각적 워크플로우 빌더 | 5일 | ⭐⭐⭐ |
| 21 | **이메일 알림** — SendGrid/Resend 연동 | 2일 | ⭐⭐⭐ |

### Phase 4: 기술적 부채 해결 (Important — 1~2주)

| # | 작업 | 예상 시간 | 영향도 |
|---|------|-----------|--------|
| 22 | **커서 컴포넌트 통합** — 3개 → 1개 | 1일 | ⭐⭐⭐ |
| 23 | **Storage 싱글턴 수정** — workflow에 shared storage 주입 | 0.5일 | ⭐⭐⭐ |
| 24 | **Dashboard 동적 팀** — 하드코딩 제거 | 1일 | ⭐⭐⭐ |
| 25 | **댓글 인증 연동** — JWT 사용자와 연결 | 1일 | ⭐⭐⭐ |
| 26 | **staleTime 조정** — 적절한 캐싱 정책 | 1일 | ⭐⭐ |
| 27 | **공유 링크 라우트** — `/shared/:token` 추가 | 0.5일 | ⭐⭐ |
| 28 | **다국어 정리** — i18n 도입 또는 일관된 언어 사용 | 3일 | ⭐⭐ |

### Phase 5: 노션 이상의 기능 (Stretch — 장기)

| # | 작업 | 예상 시간 | 영향도 |
|---|------|-----------|--------|
| 29 | **오프라인 모드** — IndexedDB + 동기화 | 2주 | ⭐⭐⭐⭐ |
| 30 | **모바일 앱** — PWA 또는 React Native | 4주+ | ⭐⭐⭐⭐ |
| 31 | **API 공개** — 외부 개발자용 REST API | 2주 | ⭐⭐⭐ |
| 32 | **Slack/Discord 봇** — 알림 연동 | 1주 | ⭐⭐⭐ |
| 33 | **AI 이미지 생성** — DALL-E 연동 | 3일 | ⭐⭐ |
| 34 | **화상 회의** — WebRTC 기반 | 3주+ | ⭐⭐ |
| 35 | **Gantt 차트 뷰** — 프로젝트 타임라인 | 1주 | ⭐⭐ |
| 36 | **양방향 링크 (Backlinks)** — Obsidian-style | 3일 | ⭐⭐⭐ |

---

## 📈 현재 완성도 평가

### Notion 기능 대비 커버리지

| 카테고리 | 완성도 | 설명 |
|----------|--------|------|
| 에디터 & 블록 | **55%** | 기본 블록은 있으나 슬래시 명령어, 인라인 서식 미구현 |
| 페이지 관리 | **60%** | CRUD는 있으나 히스토리, 하위 페이지, 즐겨찾기 없음 |
| 데이터베이스 | **75%** | 스키마/관계/수식 있으나 인라인 DB, 링크드 DB 없음 |
| 실시간 협업 | **80%** | Yjs CRDT 완성, 인라인 코멘트 없음 |
| AI 기능 | **85%** | 노션보다 더 많은 AI 기능 (지식 그래프, 태스크 추출) |
| 팀 & 워크스페이스 | **65%** | 기본 팀 관리 있으나 초대, 게스트, 감사 로그 없음 |
| 자동화 | **70%** | 엔진은 완성, UI 생성 미완 |
| UI/UX | **60%** | 기본 레이아웃 좋으나 Command Palette, 단축키, 브레드크럼 없음 |
| **전체 평균** | **~69%** | |

### Notion과의 격차를 줄이기 위한 핵심 3가지

1. **에디터 경험** — 슬래시 명령어 + 인라인 서식이 없으면 노션급이라 할 수 없음
2. **페이지 히스토리** — 버전 관리는 협업 도구의 기본
3. **Command Palette** — 파워 유저의 핵심 UX

---

## 🆚 경쟁 협업 도구 대비 추가 고려사항

### Confluence (Atlassian)
- **페이지 트리 구조** → Papyr.us에 이미 폴더 있으나 하위 페이지 필요
- **매크로 시스템** → 비슷한 개념으로 블록 확장 가능
- **Jira 연동** → 외부 이슈 트래커 연동 API 고려

### Obsidian
- **양방향 링크 (Backlinks)** → knowledge-graph에 기본은 있으나 강화 필요
- **그래프 뷰** → 이미 구현됨 ✅
- **로컬 저장** → 오프라인 모드로 대응 가능

### Coda / Airtable
- **강력한 수식 엔진** → formula 필드 있으나 고급 함수 확장 필요
- **자동화 UI** → 워크플로우 UI 구축 필요
- **외부 데이터 연동** → API 통합 패널 고려

### Linear
- **이슈 트래킹 UX** → 현재 tasks는 기본적, Linear 수준의 UX 필요
- **프로젝트 관리** → 마일스톤, 스프린트, 로드맵 뷰 추가 고려
- **키보드 우선 UX** → Command Palette + 단축키 필수

---

## 결론

Papyr.us는 이미 강력한 기반(데이터베이스, 실시간 협업, AI, 자동화)을 갖추고 있으며, 특히 **자동화 엔진, 지식 그래프, AI 태스크 추출**은 노션보다 우위에 있습니다. 

그러나 **에디터 경험**(슬래시 명령어, 인라인 서식, 키보드 단축키)과 **페이지 관리**(히스토리, 하위 페이지, Command Palette)에서 큰 격차가 있으며, 이 두 영역을 우선적으로 개선하면 노션급 품질에 크게 다가갈 수 있습니다.
