# Papyr.us 프로젝트 개요

## 프로젝트 소개

Papyr.us는 React와 Express.js를 기반으로 구축된 현대적인 팀 협업 위키 플랫폼입니다. 강력한 마크다운 편집기, 팀별 워크스페이스, AI 기반 기능들을 통해 팀의 지식 관리와 생산성 향상을 돕습니다.

## 주요 기능

### 1. 위키 페이지 관리

- 마크다운 기반 페이지 작성 및 편집 (실시간 미리보기 지원)
- 블록 기반 편집기 (단락, 제목, 코드, 인용, 이미지, 체크박스 등)
- 페이지 태그 시스템 및 폴더별 구조화
- Slug를 통한 사용자 친화적 URL

### 2. 팀 협업 기능

- 팀별 전용 워크스페이스 제공 (페이지, 캘린더, 파일, 할 일, 멤버 관리)
- 팀별 접근 제어 (비밀번호 보호)
- 팀 캘린더를 통한 일정 공유 및 관리
- 팀원별 할 일(Task) 관리 및 진행 상태 추적

### 3. AI Assistant

- GPT-4o 기반 AI 검색 및 콘텐츠 생성/개선
- 자연어 질문을 통해 프로젝트 내 정보(페이지, 파일, 할 일) 검색
- AI 기반 검색어 자동 제안

### 4. 사용자 및 인증

- 로컬 계정 가입 및 JWT 기반 인증 시스템
- `react-router-dom`을 이용한 보호된 라우트 처리

### 5. 실시간 협업

- Socket.IO 기반 실시간 통신 아키텍처
- 동시 편집 및 협업 기능의 기반 마련

### 6. 기타 주요 기능

- **파일 관리자**: 팀별 파일 업로드, 다운로드 및 관리
- **템플릿 시스템**: 반복적인 문서를 위한 템플릿 생성 및 관리
- **대시보드**: 팀 및 개인의 활동 통계 시각화
- **알림 시스템**: 주요 활동에 대한 실시간 알림
- **관리자 패널**: 디렉토리 및 접근 권한 관리

## 기술 스택

### Frontend

- **React 18** & **TypeScript**: 타입 안전성을 갖춘 UI 개발
- **Vite**: 빠른 개발 서버 및 번들러
- **Tailwind CSS**: 유틸리티 우선 CSS 프레임워크
- **shadcn/ui**: 재사용 가능한 UI 컴포넌트 라이브러리
- **TanStack Query**: 서버 상태 관리 및 캐싱
- **React Hook Form**: 효율적인 폼 상태 관리
- **React Router v6**: 클라이언트 사이드 라우팅
- **Socket.IO Client**: 실시간 웹소켓 통신

### Backend

- **Express.js** & **TypeScript**: Node.js 기반의 타입 안전한 서버 구축
- **Drizzle ORM**: 타입스크립트 기반의 타입 안전한 ORM
- **PostgreSQL**: 기본 데이터베이스
- **Zod**: 스키마 정의 및 유효성 검사
- **Passport.js**: JWT를 이용한 인증 전략 구현
- **Socket.IO**: 실시간 양방향 통신
- **Multer**: 파일 업로드 처리

### AI & 마크다운

- **OpenAI SDK**: GPT-4o 모델 연동
- **remark/rehype**: 마크다운 파싱 및 HTML 변환

### 개발 및 배포

- **Docker & Docker Compose**: 컨테이너 기반의 일관된 개발 환경
- **Vitest**: 단위/통합 테스트 프레임워크
- **Playwright**: End-to-End 테스트 자동화
- **ESLint & Prettier**: 코드 스타일 및 품질 유지
- **Vercel**: 프로덕션 배포 (권장)

## 테스트 전략

프로젝트의 안정성과 코드 품질을 보장하기 위해 단위, 통합, E2E 테스트를 포함하는 다층적인 테스트 전략을 사용합니다.

### 1. 단위 및 통합 테스트

- **프레임워크**: **[Vitest](https://vitest.dev/)**
- **설명**: 서버의 비즈니스 로직과 각 API 엔드포인트의 기능을 테스트합니다. `server/tests` 디렉토리 내에 테스트 파일(`*.test.ts`)이 위치합니다.
- **실행 방법**:

  ```bash
  # 모든 단위/통합 테스트 실행
  npm test

  # 파일 변경 시 자동으로 테스트 실행
  npm run test:watch
  ```

### 2. End-to-End (E2E) 테스트

- **프레임워크**: **[Playwright](https://playwright.dev/)**
- **설명**: 실제 사용자 시나리오를 시뮬레이션하여 전체 애플리케이션(프론트엔드-백엔드 연동)의 흐름을 검증합니다. `tests` 디렉토리 내에 테스트 파일(`*.spec.ts`)이 위치합니다. 테스트는 안정성 확보를 위해 API 직접 호출 방식이 아닌, 실제 사용자와 같이 UI를 통해서만 상호작용하도록 완전히 리팩토링되었습니다.
- **실행 방법**:
  ```bash
  # 모든 E2E 테스트 실행 (테스트용 DB 자동 설정 포함)
  npm run e2e
  ```

## 프로젝트 구조

```
papyr-us/
├── client/                 # React 프론트엔드 (Vite)
│   ├── src/
│   │   ├── components/     # UI 컴포넌트 (shadcn/ui 기반)
│   │   ├── pages/          # 라우팅 페이지
│   │   ├── hooks/          # 커스텀 훅 (e.g., useAuth, useTheme)
│   │   └── lib/            # 유틸리티 및 API 클라이언트
├── server/                 # Express.js 백엔드
│   ├── services/           # 비즈니스 로직 (AI, Socket, Upload 등)
│   ├── routes.ts           # API 엔드포인트 정의
│   ├── storage.ts          # 데이터베이스 로직 (Drizzle ORM)
│   └── index.ts            # 서버 진입점
├── shared/                 # 클라이언트-서버 공유 스키마 (Drizzle & Zod)
├── docs/                   # 프로젝트 관련 문서
└── migrations/             # Drizzle ORM 마이그레이션 파일
```

## 다음 단계

### 🎯 Notion 수준 기능 개발 목표

Papyr.us는 현재의 팀 협업 위키 플랫폼에서 **Notion과 같은 강력한 워크스페이스 플랫폼**으로 발전시키는 것을 목표로 합니다.

#### 핵심 차별화 기능

1. **블록 기반 편집기 고도화** - 드래그 앤 드롭, 다양한 블록 타입 추가
2. **데이터베이스 뷰** - 테이블, 칸반 보드, 갤러리 등 데이터 시각화
3. **실시간 협업 완성** - 다중 사용자 동시 편집 및 커서 추적
4. **고급 검색** - AI 기반 필터링 및 컨텍스트 검색 강화
5. **API 및 통합** - 외부 서비스(Slack, GitHub 등) 연동 지원

#### 단계별 구현 계획

- **Phase 1**: 블록 기반 편집기 기능 완성 (진행 중)
- **Phase 2**: 데이터베이스 뷰 구현 (2-3주)
- **Phase 3**: 실시간 협업 기능 고도화 (2-3주)
- **Phase 4**: 외부 API 통합 및 고급 기능 (3-4주)
